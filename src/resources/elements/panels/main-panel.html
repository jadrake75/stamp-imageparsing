<template>
    <require from="resources/elements/panels/main-panel.css"></require>
    <require from="resources/elements/image/image-canvas"></require>
    <require from="resources/value-converters/as-percentage"></require>
    <require from="resources/elements/panels/side-panel"></require>
    <require from="resources/elements/panels/settings-panel"></require>

    <div class="header-pane">
        <input type="file" files.bind="chosenFile" change.delegate="fileSelected($event)" disabled.bind="processing">
        <button class="btn btn-secondary" click.trigger="process()" disabled.bind="!image || processing"><i class="sw-icon-stamp"></i></button>

        <button class="btn btn-secondary" click.trigger="addRectangle()" disabled.bind="!image || processing"><i class="sw-icon-plus"></i></button>
        <button class="btn btn-secondary" click.trigger="deleteSelected()" disabled.bind="!selectedRegion || processing"><i class="sw-icon-delete"></i></button>

        <button class="btn btn-secondary" click.trigger="zoom(1)" disabled.bind="!image || toobig || processing"><i class="sw-icon-zoom-in"></i></button>
        <button class="btn btn-secondary" click.trigger="zoom(-1)" disabled.bind="!image || toosmall || processing"><i class="sw-icon-zoom-out"></i></button>
        <button class="btn btn-secondary" click.trigger="settings()" disabled.bind="processing"><i class="sw-icon-settings"></i></button>

        <input type="file" files.bind="chosenFolder" change.delegate="folderSelected($event)" webkitdirectory disabled.bind="processing">
        ${outputPath}
    </div>
    <div class="content-pane">
        <settings-panel if.bind="showSettings" options.bind="options"></settings-panel>
        <image-canvas class="${imagePanelClassnames}"
                      image.bind="image"
                      bound-regions.bind="boundRegions"
                      selected-region.bind="selectedRegion"
                      scaling-factor.bind="scalingFactor"></image-canvas>
        <side-panel if.bind="showSidePanel" bound-regions.bind="boundRegions" selected-region.bind="selectedRegion"></side-panel>
    </div>
    <div class="footer-pane panel">
        <label>${'labels.zoom'|t}:<label> ${scalingFactor|asPercentage}
    </div>

</template>
